# 遗传算法求解最优参数

### 遗传算法(Genetic Algorithm (GA))简介

> 遗传算法是用于解决最佳化的搜索算法，是进化算法的一种。进化算法最初是借鉴了进化生物学中的一些现象而发展起来的，这些现象包括遗传、突变、自然选择以及杂交等。
遗传算法通常实现方式为一种计算机模拟。对于一个最优化问题，一定数量的候选解（称为个体）可抽象表示为染色体，使种群向更好的解进化。传统上，解用二进制表示（即0和1的串），但也可以用其他表示方法。进化从完全随机个体的种群开始，之后一代一代发生。在每一代中评价整个种群的适应度，从当前种群中随机地选择多个个体（基于它们的适应度），通过自然选择和突变产生新的生命种群，该种群在算法的下一次迭代中成为当前种群。

### 使用GA来求解最优参数
要应用GA来求解最优化问题，主要的工作是将该问题的染色体编码、交叉操作、变异操作及适应度函数的定义确定好。在这次作业中，定义如下

1. 染色体编码

    假定待求解的参数只有objective, max_depth, eta, gamma，那么染色体编码为[objective, max_depth, eta, gamma]。把它们的取值范围分别限定为

    objective: {'reg:linear', 'count:poisson'}

    max_depth: {1, 2, ..., 10}, 

    eta: 0 ~ 1 之间的数，

    gamma: {0, 1, 2, ..., 10}

2. 交叉操作
    
    对于两个父个体，它们的染色体编码分别是[objective1, max_depth1, eta1, gamma1]和[objective2, max_depth2, eta2, gamma2]。以某种概率选择一个交叉点，分别将两个基因分为两部分，然后再互换相同的部分。如，一种可能的交叉结果为[objective1, max_depth1, eta2, gamma2]和[objective2, max_depth2, eta1, gamma1]。

3. 变异操作

    给定被选中的进行变异操作的个体，对于染色体的每个基因，以一定的概率进行编译操作。对于objective，如果当前值为'reg:linear
    ，则将其变为'count:poisson'；如果当前值为'count:poisson'
    ，则将其变为'reg:linear'。对于max_depth和gamma，从1和-1中随机选一个值加到当前值上，但要确保仍在值域内。对于eta，乘以一个0.5~1.5之间的随机数，但要确保仍在值域内。

4. 适应度函数
    
    一个个体的适应度为(0 - 在该个体的染色体对应的参数下模型的RMSE)，RMSE越大，该个体的适应度越小。

